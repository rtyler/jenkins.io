<!DOCTYPE html>
<html>
<head>
<title>
Enforcing Jenkins Best Practices
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins is an open source automation server" name="description">
<link href="/sites/default/files/jenkins_favicon.ico" rel="shortcut icon" type="image/x-icon">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="img/favicon.ico" rel="icon" sizes="32x32" type="img/png">
<link href="img/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="img/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="img/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
<link href="img/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
<link href="img/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">
<meta content="Enforcing Jenkins Best Practices" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Enforcing Jenkins Best Practices" name="twitter:title">
<meta content="Jenkins – Continuous Delivery for every team" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="img/blueocean.gif" name="twitter:image">
<meta content="img/blueocean.gif" name="twitter:image:src">
<!-- Open Graph data -->
<meta content="Enforcing Jenkins Best Practices" property="og:title">
<meta content="article" property="og:type">
<meta content="/blog/2016/08/29/jenkins-world-speaker-blog-goodgame/index.html" property="og:url">
<meta content="Jenkins – Continuous Delivery for every team" property="og:description">
<meta content="Enforcing Jenkins Best Practices" property="og:site_name">
<link href="https://rtyler.github.io/jenkins.io/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://rtyler.github.io/jenkins.io/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="https://rtyler.github.io/jenkins.io/assets/bower/tether/css/tether.min.css" media="screen" rel="stylesheet">
<link href="https://rtyler.github.io/jenkins.io/css/font-icons.css" media="screen" rel="stylesheet">
<link href="https://rtyler.github.io/jenkins.io/css/jenkins.css" media="screen" rel="stylesheet">
</head>
<body>
<!-- starting partial toptoolbar.html.haml -->
<nav class="navbar navbar-toggleable-md navbar-inverse top bg-inverse" id="ji-toolbar">
<div class="container">
<button class="navbar-toggler navbar-toggler-rght hidden-lg-up float-right" data-target="#CollapsingNavbar" data-toggle="collapse" type="button">
<i class="ion-navicon"></i>
</button>
<a class="navbar-brand" href="https://rtyler.github.io/jenkins.io">
Jenkins
</a>
<div class="collapse navbar-collapse" id="CollapsingNavbar">
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="https://rtyler.github.io/jenkins.io/node">
Blog
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://rtyler.github.io/jenkins.io/doc">
Documentation
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://plugins.jenkins.io/">
Plugins
</a>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Use-cases
</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/android">
Android
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/c">
C/C++
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/docker">
Docker
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/embedded">
Embedded
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/github">
GitHub
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/java">
Java
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/pipeline">
Continuous Delivery
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/python">
Python
</a>
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/solutions/ruby">
Ruby
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://rtyler.github.io/jenkins.io/participate">
Participate
</a>
</li>
<li class="dropdown nav-item">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">Sub-projects</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://rtyler.github.io/jenkins.io/projects/">
Overview
</a>
<a class="dropdown-item feature" href="/projects/blueocean/">
Blue Ocean
</a>
<a class="dropdown-item feature" href="/projects/gsoc/">
Google Summer of Code
</a>
<a class="dropdown-item feature" href="/projects/infrastructure/">
Infrastructure
</a>
<a class="dropdown-item feature" href="/projects/jam/">
Jenkins Area Meetups
</a>
</div>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Resources
</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://accounts.jenkins.io/" title="Create/manage your account for accessing wiki, issue tracker, etc">
Account Management
</a>
<a class="dropdown-item" href="https://rtyler.github.io/jenkins.io/chat" title="Chat with the rest of the Jenkins community on IRC">
Chat
</a>
<a class="dropdown-item feature" href="https://issues.jenkins-ci.org/">
Issue Tracker
</a>
<a class="dropdown-item" href="https://rtyler.github.io/jenkins.io/mailing-lists" title="Browse Jenkins mailing list archives and/or subscribe to lists">
Mailing Lists
</a>
<a class="dropdown-item feature" href="https://wiki.jenkins-ci.org/">
Wiki
</a>
</div>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
About
</div>
<div class="dropdown-menu">
<a class="dropdown-item" href="https://rtyler.github.io/jenkins.io/security">
Security
</a>
<a class="dropdown-item" href="https://rtyler.github.io/jenkins.io/press">
Press
</a>
<a class="dropdown-item" href="https://rtyler.github.io/jenkins.io/project/conduct">
Conduct
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link btn btn-outline-secondary" href="https://rtyler.github.io/jenkins.io/download">
Download
</a>
</li>
</ul>
</div>
</div>
</nav>

<!-- ending partial toptoolbar.html.haml -->
<script>
  $(function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('#content h' + i);
    }
  })
</script>
<div class="container blog-post no-margin">
<div class="row body">
<div class="col-md-11 col-md-offset-1 main-content" id="content">
<div id="content-top">
<h1>
<a href="/blog/2016/08/29/jenkins-world-speaker-blog-goodgame/" title="Enforcing Jenkins Best Practices">
Enforcing Jenkins Best Practices
</a>
</h1>
<div style="float: right; clear: all;">
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/share">
Tweet
</a>
</div>
<span class="submitted">
Published on
2016-08-29
by
Hannah Inman
</span>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is a guest post by Jenkins World speaker David Hinske, Release
Engineer at <a href="https://www.goodgamestudios.com/">Goodgame Studios</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image right"><img src="/images/conferences/Jenkins-World_125x125.png" alt="Jenkins World"></span></p>
</div>
<div class="paragraph">
<p>Hey there, my name is David Hinske and I work at Goodgame Studios (GGS), a game
development company in Hamburg, Germany. As Release Engineer in a company with
several development teams, it comes in handy using several Jenkins instances.
While this approach works fine in our company and gives the developers a lot of
freedom, we came across some long-term problems concerning maintenance and
standards. These problems were mostly caused by misconfiguration or non-use of
plugins. With “configuration as code” in mind, I took the approach to apply
static code analysis with the help of SonarQube, a platform to manage code
quality, for all of our Jenkins job configurations.</p>
</div>
<div class="paragraph">
<p>As a small centralized team, we were looking for an easy way to control the
health of our growing Jenkins infrastructure. With considering “configuration
as code“, I developed a simple extension of SonarQube, to manage the quality
and usage of all spawned Jenkins instances. The given SonarQube features (like
customized rules/metrics, quality profiles and dashboards) allow us and the
development teams to analyze and measure the quality of all created jobs in our
company. Even though Jenkins configuration analysis cannot cover all
SonarQube&#8217;s axes of code quality, I think there is still potential for
conventions/standards, duplications, complexity, potential bugs
(misconfiguration) and design and architecture.</p>
</div>
<div class="paragraph">
<p>The results of this analysis can be used by all people working with Jenkins. To
achieve this, I developed a simple extension of SonarQube, containing
everything which is needed to hook up our SonarQube with our Jenkins
environment. The implementation contains a new basic-language “Jenkins“ and an
initial set of rules.</p>
</div>
<div class="paragraph">
<p>Of course the needs depend strongly on the way Jenkins is being used, so not
every rule implemented might be useful for every team, but this applies to all
types of code analysis. The main inspirations for the rules were developer
feedback and some articles found in the web. The different ways Jenkins can be
configured provides the potential for many more rules. With this new approach
of quality analysis, we can enforce best practices like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Polling must die (Better to triggerb uilds from pushes than poll the
repository every x minutes).</p>
</li>
<li>
<p>Use Log Rotator (Not using log-rotator can result in disk space problems on
the master).</p>
</li>
<li>
<p>Use slaves/labels (Jobs should be defined where to run).</p>
</li>
<li>
<p>Don’t build on the master (In larger systems, don&#8217;t build on the master).</p>
</li>
<li>
<p>Enforce plugin usage (For example: Timestamp, Mask-Passwords).</p>
</li>
<li>
<p>Naming sanity (Limit project names to a sane (e.g. alphanumeric) character
set).</p>
</li>
<li>
<p>Analyze Groovy Scripts (For example: Prevent System.exit(0) in System Groovy
Scripts).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jw-speaker-blog-goodgame/jenkins1.png" alt="jenkins1"></span></p>
</div>
<div class="paragraph">
<p>Besides taking control of all configuration of any Jenkins instance we want,
there is also room for additional metrics, like measuring the amount and
different types of jobs (Freestyle/Maven etc&#8230;&#8203;) to get an overview about the
general load of the Jenkins instance. A more sophisticated idea is to measure
complexity of jobs and even pipelines. As code, jobs configuration gets harder
to understand the more steps are involved. On the one hand scripts, conditions
and many parameters can negatively influence the readability, especially if you
have external dependencies (like scripts) in different locations. On the other
hand, pipelines can also grow very complex when many jobs are involved and
chained for execution. It will be very interesting for us to see where and why
too complex pipelines are being created.</p>
</div>
<div class="paragraph">
<p>On visualization we rely on the data and its interpretation of SonarQube, which
offers a big bandwidth of widgets. Everybody can use and customize the
dashboards. Our centralized team for example has a separate dashboard where we
can get a quick overview over all instances.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jw-speaker-blog-goodgame/jenkins2.png" alt="jenkins2"></span></p>
</div>
<div class="paragraph">
<p>The problem of "growing" Jenkins with maintenance problems is not new.
Especially when you have many developers involved, including with the access to
create jobs and pipelines themselves, an analysis like this SonarQube plugin
provides can be useful for anyone who wants to keep their Jenkins in shape.
Customization and standards are playing a big role in this scenario. This blog
post surely is not an advertisement for my developed plugin, it is more about
the crazy idea of using static code analysis for Jenkins job configuration. I
haven’t seen anything like it so far and I feel that there might be some
potential behind this idea.</p>
</div>
<div class="paragraph">
<p>Join me at my Enforcing Jenkins Best Practices session at the 2016 Jenkins
World to hear more!</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>David will be
<a href="https://www.cloudbees.com/enforcing-jenkins-best-practices">presenting</a>
more of this concept at
<a href="https://www.cloudbees.com/jenkinsworld/home">Jenkins World</a> in September.
Register with the code <code>JWFOSS</code> for 20% off your full conference pass.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>


<script src="https://rtyler.github.io/jenkins.io/assets/bower/jquery/jquery.min.js"></script>
<script src="https://rtyler.github.io/jenkins.io/assets/bower/tether/js/tether.min.js"></script>
<script src="https://rtyler.github.io/jenkins.io/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<footer id="footer">
<div class="container">
<div class="row">
<div class="links col-lg-8 col-md-12 col-sm-12">
<ul class="major-areas">
<li class="area solo col-md-3 col-sm-6 col-xs-6">
<div class="div-mar">
<h5>Resources</h5>
<ul class="resources">
<li>
<a href="/events">
Events
</a>
</li>
<li>
<a href="/doc">
Documentation
</a>
</li>
<li>
<a href="/node">
Blog
</a>
</li>
</ul>
</div>
</li>
<li class="area multi col-md-3 col-sm-6 col-xs-6">
<div class="div-mar">
<h5>Solutions</h5>
<ul>
<li>
<a href="/solutions/android">
Android
</a>
</li>
<li>
<a href="/solutions/c">
C/C++
</a>
</li>
<li>
<a href="/solutions/docker">
Docker
</a>
</li>
<li>
<a href="/solutions/embedded">
Embedded
</a>
</li>
<li>
<a href="/solutions/github">
GitHub
</a>
</li>
<li>
<a href="/solutions/java">
Java
</a>
</li>
<li>
<a href="/solutions/pipeline">
Continuous Delivery
</a>
</li>
<li>
<a href="/solutions/python">
Python
</a>
</li>
<li>
<a href="/solutions/ruby">
Ruby
</a>
</li>
</ul>
</div>
</li>
<li class="area multi col-md-3 col-sm-6 col-xs-6">
<div class="div-mar">
<h5>Project</h5>
<ul class="project">
<li>
<a href="https://issues.jenkins-ci.org">
Issue tracker
</a>
</li>
<li>
<a href="https://wiki.jenkins-ci.org">
Wiki
</a>
</li>
<li>
<a href="https://github.com/jenkinsci">
GitHub
</a>
</li>
<li>
<a href="https://ci.jenkins.io">
Jenkins on Jenkins
</a>
</li>
</ul>
</div>
</li>
<li class="area multi col-md-3 col-sm-6 col-xs-6">
<div class="div-mar">
<h5>Community</h5>
<ul class="community">
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-users">
Users mailing list
</a>
</li>
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-dev">
Developers mailing list
</a>
</li>
<li>
<a href="https://twitter.com/jenkinsci">
Twitter
</a>
</li>
<li>
<a href="https://reddit.com/r/jenkinsci">
Reddit
</a>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="col-lg-4 col-md-12 col-sm-12 col-xs-12 footer-left">
<p class="box">
<a href="https://github.com/jenkins-infra/jenkins.io/edit/master/content//blog/2016/2016-08-29-jenkins-world-speaker-blog-goodgame.adoc" title="Edit /blog/2016/2016-08-29-jenkins-world-speaker-blog-goodgame.adoc on GitHub">
Improve this page
</a>
|
<a href="https://github.com/jenkins-infra/jenkins.io/commits/master/content//blog/2016/2016-08-29-jenkins-world-speaker-blog-goodgame.adoc" title="View /blog/2016/2016-08-29-jenkins-world-speaker-blog-goodgame.adoc history on GitHub">
Page history
</a>
</p>
<div class="license-box">
<div id="creativecommons">
<a href="https://creativecommons.org/licenses/by-sa/4.0/">
<p>
<img src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
</p>
</a>
<p>
The content driving this site is licensed under the Creative Commons Attribution-ShareAlike 4.0 license.
</p>
</div>
</div>
</div>
</div>
</div>
</footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-4216293-5', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  !function(d,s,id) {
    var js, fjs=d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
      js = d.createElement(s);
      js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,"script","twitter-wjs");
</script>
</body>
</html>
